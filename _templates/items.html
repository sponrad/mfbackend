{% extends "base.html" %}

{% block body %}
<div class="twelve-columns">
  <h2>{{ restaurant.name }} - Menu's and Item's</h2> 
  <a href="/restaurant/{{ restaurant.key.id }}">Back to Restaurant Page</a>

  <form method="post" style="float: right; background: #eee; padding: 10px;">
    <input type="hidden" name="action" value="addmenu" />
    <input type="text" name="name" placeholder="Menu Name" />
    <input type="submit" value="Add Menu" />
  </form>

  {% for menu in restaurant.menu_set %}
  <div style="clear: both;"></div>
  <p><b class="edit" id="{{ menu.key.id }}.menu_name" >{{ menu.name }}</b> {{ menu.order }}</p>
  <p>
    {% for item in menu.item_set %}
    <p>
    <span class="edit" id="{{ item.key.id }}.item_name">{{ item.name }}</span> - $<span class="edit" id="{{ item.key.id }}.item_price">{{ item.price|floatformat:"-2" }}</span> <br> <span class="edit" id="{{ item.key.id }}.item_description">{{ item.description }}</span>
    </p>
    {% endfor %}
  </p>
  <form method="post" style="float: right; background: #eee; padding: 10px;">
    <input type="hidden" name="action" value="additem" />
    <input type="hidden" name="menu" value="{{ menu.key.id }}" />
    <input type="text" name="name" placeholder="Item Name" />
    <input type="text" name="description" placeholder="Description" />
    <input type="text" name="price" placeholder="Price" />    
    <input type="submit" value="Add Item to {{ menu.name }}" />
  </form>
  {% endfor %}
</div>
{% endblock body %}
